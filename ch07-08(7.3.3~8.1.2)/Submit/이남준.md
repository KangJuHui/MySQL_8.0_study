## 11주차 Real MySQL 문제
#### 출제자: 강주희

### 1. 다음 설명 중 빈칸에 들어갈 알맞은 표현을 쓰시오.
```
MySQL의 암호화는 MySQL 5.7 버전부터 지원되기 시작하였다.
MySQL 5.7 버전에서는 데이터 파일(테이블 스페이스)에 대해서만 암호화 기능이 제공되었고,
MySQL 8.0 으로 업그레이드 되면서 데이터 파일뿐만 아니라 redo 로그 나 undo 로그, 복제를 위한 binary 로그 등도 모두 암호화 기능을 지원하기 시작하였다.
MySQL 8.0.16부터 스키마 및 일반 테이블스페이스에 대한 암호화 기본값 설정(시스템 변수)도 지원되며 DB 관리자는 해당 스키마 및 테이블스페이스에서 생성된 테이블의 암호화 여부를 제어할 수 있게 되었다.

Oracle TDE 의 경우 테이블 스페이스 단위 암호화를 사용할 경우 데이터 변경에 의한 기록(Undo/Redo) 이나 Join 이나 Sort 등에 의한 Temp 사용 등 여러가지 모든 것에 대해서
암호화가 진행되지만
MySQL 에서는 redo/undo/binary 로그 등에 대해서 별도로 암호화 사용 설정이 필요한 부분이 있다.

테이블 암호화를 적용하면 테이블의 데이터 파일 이외의 디스크 파일로 기록되는 데이터나 메모리에 존재하는 데이터는 암호화되지 않기 때문에 undo/redo/binary 로그는 평문으로 저장된다.
[A](undo/redo/binary) 로그는 파일 단위로 암호화를 수행하고, 파일 키로 암호화하여 디스크에 저장한다.
[B](undo/redo/binary) 로그는 암호화가 활성화가 되는 시점 부터 암호화해서 저장하고, 암호화가 비활성화하면 그때 부터 저장되는 로그는 평문으로 저장된다.
binary 로그는 [C](디스크에 저장된 파일/메모리 내부/소스소버와 래플리카 서버 간의 네트워크 구간)에 대한 암호화만 제공한다.

```

답: 
- \[A](binary)
- \[B](undo/redo)
- \[C](디스크에 저장된 파일)


### 2. 쿼리를 튜닝할때 중요하게 생각해야할 것으로 가장 올바른 설명을 고르시오.
1. 쿼리를 튜닝해서 순차 I/O가 랜덤 I/O에 비해 성능이 더 좋기 때문에 순차 I/O로 바꿔서 실행해야 한다.
2. SSD는 랜덤 I/O와 순차 I/O가 차이가 없으므로 되도록 디스크에 데이터를 쓰도록 쿼리를 개선한다.
3. 랜덤 I/O 자체를 줄이기 위해 쿼리를 처리하는 데 꼭 필요한 데이터만 읽도록 쿼리를 개선한다. 

답: 3

---
#### 출제자: 안해원

### 1. 바이너리 로그 암호화 키가 변경되는 과정을 순서대로 나열하시오
- 가. 기존 바이너릴 로그와 릴레이 로그 파일의 파일 키를 읽어서 새로운 바이너리 로그 파일 키로 암호화해서 다시 저장
- 나. 증가된 시퀀스 번호와 함께 새로운 바이너리 로그 안호화 키 발급 후 키링 파일에 저장
- 다. 모든 바이너리 로그와 릴레이 로그 파일이 새로운 바이너리 로그 암호화 키로 다시 암호화됐다면 기존 바이너리 로그 암호화 키를 키링 파일에서 제거
- 라. 바이너리 로그 파일과 릴레이 로그 파일 스위치
- 마. 새로 생성되는 바이너리 로그와 릴레이 로그 파일의 암호화를 위해 파일 키를 생성하고, 파일 키는 바이너리 로그파일 키로 암호화해서 각 로그 파일에 저장

답: 나 - 라 - 마 - 가 - 다


### 2. 다음 설명 빈칸에 들어간 단어를 적으시오
```
디스크의 헤더를 움직이지 않고 한 번에 많은 데이터를 읽는 (가) 에서는 SSD가 하드 디스크 드라이브보다 조금 빠르거나 비슷한 성능을 보인다.
데이터베이스 서버에서 (가)는 그다지 비중이 크지 않고 (나) 를 통해 작은 데이터를 읽고 쓰는 작업이 대부분디다. 
SSD드라이브에서 (나) 는 (가)보디 전체 스루풋(throughput)이 떨어진다.
```

답:
- (가) - 순차 I/O
- (나) - 랜덤 I/O
